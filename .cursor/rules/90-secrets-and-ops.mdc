---
description: Secrets, env vars, deployment hygiene (Vercel + workers + Supabase)
globs: ["**/*"]
alwaysApply: true
---

# Secrets rules
- Never print secrets in logs.
- Never commit .env or service role keys.
- Maintain .env.example with all required keys and comments.

# Env var names (expected)
- NEXT_PUBLIC_SUPABASE_URL
- NEXT_PUBLIC_SUPABASE_ANON_KEY
- SUPABASE_SERVICE_ROLE_KEY           # workers only, never in apps/web runtime if possible
- X_API_KEY / X_API_SECRET / X_BEARER_TOKEN (worker)
- GROK_API_KEY (worker)
- INTERNAL_WEBHOOK_SECRET (shared secret for internal routes)

# Deployment
- apps/web deploys to Vercel.
- worker services deploy to long-lived runtime (not Vercel serverless).
- Supabase migrations applied via CI or supabase CLI.

